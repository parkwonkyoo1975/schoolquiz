<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹ í•™ê¸° í•™êµ ê·œì¹™ í€´ì¦ˆ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4a90e2;
            --success-color: #2ecc71;
            --danger-color: #e74c3c;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: #f0f2f5;
            display: flex; justify-content: center; padding: 20px;
        }
        .container {
            max-width: 600px; width: 100%; background: white;
            border-radius: 15px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .header { background: var(--primary-color); color: white; padding: 25px; text-align: center; }
        .content { padding: 25px; }
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .input-group input { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; }
        
        .quiz-section { display: none; }
        .question-card { background: #fff; border: 1px solid #eee; padding: 20px; border-radius: 12px; margin-bottom: 20px; }
        .option { 
            display: block; padding: 12px; border: 2px solid #eee; border-radius: 8px; 
            margin-top: 10px; cursor: pointer; transition: 0.2s;
        }
        .option:hover { background: #f8f9fa; }
        .option.correct { background: #d4edda; border-color: var(--success-color); }
        .option.wrong { background: #f8d7da; border-color: var(--danger-color); }
        input[type="radio"] { margin-right: 10px; }

        .btn { 
            width: 100%; padding: 15px; background: var(--primary-color); color: white; 
            border: none; border-radius: 8px; font-size: 16px; cursor: pointer; margin-top: 10px;
        }
        .btn:disabled { background: #ccc; }
        .result-screen { display: none; text-align: center; padding: 40px 20px; }
        .score-big { font-size: 60px; font-weight: bold; color: var(--primary-color); }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>ğŸ« í•™êµ ê·œì¹™ í€´ì¦ˆ</h1>
        <p>10ë¬¸ì œë¥¼ ëª¨ë‘ ë§í˜€ì•¼ í†µê³¼ì…ë‹ˆë‹¤!</p>
    </div>

    <div class="content">
        <div id="infoSection">
            <div class="input-group">
                <label>í•™ë…„</label><input type="number" id="grade" placeholder="ì˜ˆ: 3">
            </div>
            <div class="input-group">
                <label>ë°˜</label><input type="number" id="classNum" placeholder="ì˜ˆ: 1">
            </div>
            <div class="input-group">
                <label>ë²ˆí˜¸</label><input type="number" id="number" placeholder="ì˜ˆ: 15">
            </div>
            <div class="input-group">
                <label>ì´ë¦„</label><input type="text" id="name" placeholder="ì´ë¦„ ì…ë ¥">
            </div>
            <button class="btn" onclick="startQuiz()">í€´ì¦ˆ ì‹œì‘í•˜ê¸°</button>
        </div>

        <div id="quizSection" class="quiz-section">
            <div id="questionsContainer"></div>
            <button id="submitBtn" class="btn" onclick="finishQuiz()" disabled>ê²°ê³¼ ì œì¶œí•˜ê¸°</button>
        </div>

        <div id="resultSection" class="result-screen">
            <h2 id="resultTitle"></h2>
            <div class="score-big" id="finalScore">0/10</div>
            <p id="resultMsg" style="margin: 20px 0;"></p>
            <button class="btn" onclick="location.reload()">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
        </div>
    </div>
</div>

<script>
    const GAS_URL = "https://script.google.com/macros/s/AKfycbyp703okIZSTo1ONnnrms0WSs0ODyEQrBAmEpMVpIk1YS0_p_zjlPZGO4RCZtG2-7Qp0w/exec"; // ë°°í¬ëœ ì›¹ ì•± URL ë¶™ì—¬ë„£ê¸°
    
    const questions = [
        { q: "ì •í•´ì§„ ë“±êµ ì‹œê°„ì€ ì–¸ì œì¸ê°€ìš”?", a: ["ì •í•´ì§„ ì‹œê°„ ì—„ìˆ˜", "ì•„ë¬´ ë•Œë‚˜", "ì¹œêµ¬ ì˜¬ ë•Œ", "ìˆ˜ì—… ë„ì¤‘"], cor: 0 },
        { q: "ë³µë„ì—ì„œ ì˜¬ë°”ë¥¸ ë³´í–‰ ë°©ë²•ì€?", a: ["ì „ë ¥ ì§ˆì£¼", "ìš°ì¸¡í†µí–‰í•˜ë©° ê±·ê¸°", "í° ì†Œë¦¬ë¡œ ë…¸ë˜", "ì¥ë‚œì¹˜ê¸°"], cor: 1 },
        { q: "ìˆ˜ì—… ì¤‘ í™”ì¥ì‹¤ì´ ê¸‰í•  ë•ŒëŠ”?", a: ["ëª°ë˜ ë‚˜ê°", "ì°¸ìŒ", "ì†ë“¤ê³  í—ˆë½ë°›ê¸°", "ì†Œë¦¬ ì§€ë¦„"], cor: 2 },
        { q: "ì¹œêµ¬ ë¬¼ê±´ì„ ë¹Œë¦´ ë•ŒëŠ”?", a: ["ëª°ë˜ ì”€", "ë¨¼ì € í—ˆë½ ë°›ê¸°", "ê·¸ëƒ¥ ê°€ì ¸ê°", "ë‚˜ì¤‘ì— ë§í•¨"], cor: 1 },
        { q: "ê¸‰ì‹ì‹¤ì—ì„œ ì§€í‚¬ ì˜ˆì ˆì€?", a: ["ìƒˆì¹˜ê¸°", "ì¤„ ì„œì„œ ê¸°ë‹¤ë¦¬ê¸°", "ìŒì‹ ë˜ì§€ê¸°", "ë– ë“¤ê¸°"], cor: 1 },
        { q: "êµì‹¤ ì“°ë ˆê¸°ëŠ” ì–´ë–»ê²Œ?", a: ["ì±…ìƒ ì†", "ë°”ë‹¥ì—", "ì“°ë ˆê¸°í†µì— ë°”ë¡œ", "ì°½ë°–ìœ¼ë¡œ"], cor: 2 },
        { q: "ì„ ìƒë‹˜ ë§ì”€í•˜ì‹¤ ë•Œ íƒœë„ëŠ”?", a: ["ë”´ì§“", "ê²½ì²­ ë° ì§‘ì¤‘", "ì ìê¸°", "ì¹œêµ¬ì™€ ëŒ€í™”"], cor: 1 },
        { q: "ì¹œêµ¬ê°€ ì‹¤ìˆ˜í–ˆì„ ë•Œ?", a: ["ë†€ë¦¼", "ë¹„ì›ƒìŒ", "ìœ„ë¡œì™€ ê²©ë ¤", "ë¬´ì‹œ"], cor: 2 },
        { q: "í•˜êµ ì‹œ í•  ì¼ì€?", a: ["ì£¼ë³€ ì •ë¦¬ ë° ì¸ì‚¬", "ê·¸ëƒ¥ ë„ë§", "ë¬¼ê±´ ë‘ê³  ê°€ê¸°", "ë³µë„ ì§ˆì£¼"], cor: 0 },
        { q: "êµì‹¤ ë¬¼ê±´(ê³µìš©) ì‚¬ìš© í›„?", a: ["ì œìë¦¬ì— ì •ë¦¬", "ë°”ë‹¥ì— ë‘ ", "ê°€ì ¸ê°", "ë§ê°€ëœ¨ë¦¼"], cor: 0 }
    ];

    let userAnswers = new Array(questions.length).fill(null);

    function startQuiz() {
        const fields = ['grade', 'classNum', 'number', 'name'];
        for(let f of fields) {
            if(!document.getElementById(f).value) return alert("ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        }
        document.getElementById('infoSection').style.display = 'none';
        document.getElementById('quizSection').style.display = 'block';
        renderQuestions();
    }

    function renderQuestions() {
        const container = document.getElementById('questionsContainer');
        questions.forEach((item, idx) => {
            let html = `<div class="question-card">
                <p><strong>ë¬¸ì œ ${idx+1}. ${item.q}</strong></p>`;
            item.a.forEach((opt, optIdx) => {
                html += `<label class="option" id="label-${idx}-${optIdx}">
                    <input type="radio" name="q${idx}" value="${optIdx}" onchange="selectAnswer(${idx}, ${optIdx})"> ${opt}
                </label>`;
            });
            html += `</div>`;
            container.innerHTML += html;
        });
    }

    function selectAnswer(qIdx, optIdx) {
        userAnswers[qIdx] = optIdx;
        const allAnswered = userAnswers.every(ans => ans !== null);
        document.getElementById('submitBtn').disabled = !allAnswered;
    }

    async function finishQuiz() {
        let score = 0;
        userAnswers.forEach((ans, idx) => {
            if(ans === questions[idx].cor) score++;
        });

        const data = {
            grade: document.getElementById('grade').value,
            classNum: document.getElementById('classNum').value,
            number: document.getElementById('number').value,
            name: document.getElementById('name').value,
            score: score
        };

        // êµ¬ê¸€ ì‹œíŠ¸ ì „ì†¡ (ì—ëŸ¬ ë°œìƒí•´ë„ ê²°ê³¼ëŠ” ë³´ì—¬ì¤Œ)
        try {
            fetch(GAS_URL, { method: 'POST', body: JSON.stringify(data) });
        } catch(e) { console.log("ì „ì†¡ ì‹¤íŒ¨", e); }

        showResult(score);
    }

    function showResult(score) {
        document.getElementById('quizSection').style.display = 'none';
        const rs = document.getElementById('resultSection');
        rs.style.display = 'block';
        document.getElementById('finalScore').textContent = score + "/10";
        
        if(score === 10) {
            document.getElementById('resultTitle').textContent = "ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! í†µê³¼!";
            document.getElementById('resultMsg').textContent = "í•™êµ ê·œì¹™ì„ ì™„ë²½í•˜ê²Œ ìˆ™ì§€í•˜ì…¨êµ°ìš”!";
        } else {
            document.getElementById('resultTitle').textContent = "âŒ ì•„ì‰½ìŠµë‹ˆë‹¤. ë¶ˆí•©ê²©";
            document.getElementById('resultMsg').textContent = "10ë¬¸ì œë¥¼ ëª¨ë‘ ë§í˜€ì•¼ í†µê³¼ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.";
        }
    }
</script>
</body>
</html>